// src/uni_modules/ma-ui/components/ma-button-group/index.scss
// 1. 使用 @use 导入变量 (符合 Dart Sass 3.0 规范)
@use '../ma-button/index.scss' as button;

// 2. 定义组件专属变量 (带默认值)
// $button-group-border-radius: button.$button-medium-radius !default;

// 3. 样式规则
.ma-button-group {
  display: inline-flex;
//   border-radius: $button-group-border-radius;
  overflow: hidden;
  
  &--vertical {
    flex-direction: column;
  }
  
  .ma-button {
    // 修复1：增加边框宽度和透明度
    &:not(:first-child):not(:last-child) {
      border-radius: 0 !important;
      border-left: 2px solid rgba(255, 255, 255, 0.3);
      border-right: 2px solid rgba(255, 255, 255, 0.3);
    }
    
    &:first-child {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
      
    //   &.ma-button--round {
    //     border-radius: $button-group-border-radius 0 0 $button-group-border-radius;
    //   }
    }
    
    &:last-child {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      
    //   &.ma-button--round {
    //     border-radius: 0 $button-group-border-radius $button-group-border-radius 0;
    //   }
    }
    
    // 修复2：优化分隔线
    &:not(:first-child) {
      // 使用更宽的边框
      border-left: 2px solid #ffffff;
      // 增加阴影效果增强视觉层次
    //   box-shadow: 2px 0 0 rgba(255, 255, 255, 0.3);
      // 确保边框包含在元素尺寸内
      box-sizing: border-box;
    }
  }
  
  // 垂直排列时的特殊处理
  &--vertical {
    .ma-button {
      &:not(:first-child):not(:last-child) {
        border-radius: 0;
        border-top: 2px solid rgba(255, 255, 255, 0.3);
        border-bottom: 2px solid rgba(255, 255, 255, 0.3);
      }
      
      &:first-child {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        
        // &.ma-button--round {
        //   border-radius: $button-group-border-radius $button-group-border-radius 0 0;
        // }
      }
      
      &:last-child {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        
        // &.ma-button--round {
        //   border-radius: 0 0 $button-group-border-radius $button-group-border-radius;
        // }
      }
      
      &:not(:first-child) {
        border-top: 2px solid #ffffff;
        box-shadow: 0 2px 0 rgba(255, 255, 255, 0.3);
      }
    }
  }
}